---
import Layout from '@layouts/BaseLayout.astro';
import ProjectCard from '@atoms/ProjectCard';

const projects = await Astro.glob('./*.mdx');
projects.sort((a, b) => {
	const dateA = new Date(a.frontmatter.date).getTime();
	const dateB = new Date(b.frontmatter.date).getTime();
	return dateB - dateA;
});
---

<Layout>
	<section class="px-4 sm:px-6 py-6 sm:py-10 lg:max-w-6xl lg:mx-auto mb-12 sm:mb-8 text-justify">
		<h1>Projetos</h1>
		<div class="grid sm:grid-cols-2 md:grid-cols-3 justify-items-center gap-12 mt-6">
			{
				projects.map((project) => (
					<ProjectCard
						client:load
						url={project.url}
						cover={project.frontmatter.cover}
						title={project.frontmatter.title}
						description={project.frontmatter.description}
						tags={project.frontmatter.tags}
						date={project.frontmatter.date}
					/>
				))
			}
		</div>
	</section>
</Layout>
